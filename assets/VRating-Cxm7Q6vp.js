import{g as F,p as N,R as z,d as $,C as A,M as w,an as T,f as D,m as H,a as j,K as P}from"./vuetify-vendor-BSJ2BONf.js";import{m as E,O as K,P as O,i as q}from"./index-DQW74ixa.js";import{e as o,s as G,D as J,j as s,P as Q,n as _,l as t,F as C,m as U,a6 as W}from"./vue-vendor-DIljl67C.js";const X=N({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:P,default:"$ratingEmpty"},fullIcon:{type:P,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...j(),...O(),...K(),...E(),...H()},"VRating"),ee=F()({name:"VRating",props:X(),emits:{"update:modelValue":e=>!0},setup(e,M){let{slots:r}=M;const{t:b}=z(),{themeClasses:k}=$(e),h=A(e,"modelValue"),u=o(()=>w(parseFloat(h.value),0,Number(e.length))),y=o(()=>T(Number(e.length),1)),I=o(()=>y.value.flatMap(a=>e.halfIncrements?[a-.5,a]:[a])),c=G(-1),v=o(()=>I.value.map(a=>{const l=e.hover&&c.value>-1,n=u.value>=a,i=c.value>=a,g=(l?i:n)?e.fullIcon:e.emptyIcon,f=e.activeColor??e.color,m=n||i?f:e.color;return{isFilled:n,isHovered:i,icon:g,color:m}})),R=o(()=>[0,...I.value].map(a=>{function l(){c.value=a}function n(){c.value=-1}function i(){e.disabled||e.readonly||(h.value=u.value===a&&e.clearable?0:a)}return{onMouseenter:e.hover?l:void 0,onMouseleave:e.hover?n:void 0,onClick:i}})),B=J(),V=o(()=>e.name??`v-rating-${B}`);function d(a){let{value:l,index:n,showStar:i=!0}=a;const{onMouseenter:S,onMouseleave:g,onClick:f}=R.value[n+1],m=`${V.value}-${String(l).replace(".","-")}`,x={color:v.value[n]?.color,density:e.density,disabled:e.disabled,icon:v.value[n]?.icon,ripple:e.ripple,size:e.size,variant:"plain"};return t(C,null,[t("label",{for:m,class:_({"v-rating__item--half":e.halfIncrements&&l%1>0,"v-rating__item--full":e.halfIncrements&&l%1===0}),onMouseenter:S,onMouseleave:g,onClick:f},[t("span",{class:"v-rating__hidden"},[b(e.itemAriaLabel,l,e.length)]),i?r.item?r.item({...v.value[n],props:x,value:l,index:n,rating:u.value}):s(q,U({"aria-label":b(e.itemAriaLabel,l,e.length)},x),null):void 0]),t("input",{class:"v-rating__hidden",name:V.value,id:m,type:"radio",value:l,checked:u.value===l,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function L(a){return r["item-label"]?r["item-label"](a):a.label?t("span",null,[a.label]):t("span",null,[W("Â ")])}return D(()=>{const a=!!e.itemLabels?.length||r["item-label"];return s(e.tag,{class:_(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},k.value,e.class]),style:Q(e.style)},{default:()=>[s(d,{value:0,index:-1,showStar:!1},null),y.value.map((l,n)=>t("div",{class:"v-rating__wrapper"},[a&&e.itemLabelPosition==="top"?L({value:l,index:n,label:e.itemLabels?.[n]}):void 0,t("div",{class:"v-rating__item"},[e.halfIncrements?t(C,null,[s(d,{value:l-.5,index:n*2},null),s(d,{value:l,index:n*2+1},null)]):s(d,{value:l,index:n},null)]),a&&e.itemLabelPosition==="bottom"?L({value:l,index:n,label:e.itemLabels?.[n]}):void 0]))]})}),{}}});export{ee as V};
